
## 动机与成效
众所周知，只狼中的一个成就叫做“登峰造极”，需要习得全部技能才能达成，而技能的学习需要经验值，
全部技能的学习需要极其大量的经验值。

但是在游戏中获取大量的经验值并不太容易，尤其是一旦意外死亡则有极大可能导致部分经验值丢失，

种种机制都把宫崎的恶意展示的淋漓尽致。

所以，我们就有了动力做一个刷经验的脚本。

选择的目标是武士候命室的第一个武士，走过去背刺即可，之后归佛回到初始位置，如此循环。

这个武士有时候还会掉落药丸以及神之飞雪，我们也顺便收集一下。

大概一分钟可以刷 2 次左右吧，主要的时间消耗在使用归佛 10 秒左右，加载游戏 8 秒左右，走路+背刺+收集物品也会消耗几秒时间。

## 演示视频
https://www.bilibili.com/video/BV1EaYTznEdc/

## 启动与退出

- steam 开始游戏
- 游戏设置：图像设定 -- 屏幕模式设置为窗口，游戏分辨率调整为1280*720
- 游戏设置：按键设置 -- ‘使用道具‘ 设置为按键 p, 动作（长按）吸引设置为按键 e. 重置视角/固定目标设置为 q
- 把 '归佛' 设置为第一个快捷使用的道具, 最好只设置这一个道具
- 佛渡到 '苇名城主城 -- 天守阁上层 -- 武士候命室'
- 测试：按下 p 键，应该会自动使用 ’归佛'，选择 '最后对坐的鬼佛' 应回到武士候命室.
- 保持游戏窗口在最上层，不要最小化或者被其它的全屏窗口覆盖。

- 在文件夹中，打开 cmd 窗口，运行下面的指令：

```
python main.py 
```

就会开始自动刷经验了。

- 在游戏窗口中按 Esc 键，退出脚本
- 或：在 cmd 窗口中，按 ctrl+c 键也可以退出脚本



## 主要文件介绍

- config/actions_conf.yaml
	按键脚本，配置了“归佛 GUI_FUO”与“刷经验 EXP_1”两个项目。

- utils/change_window.py
	游戏窗口的一些预处理操作: 检查分辨率、移动窗口到屏幕的左上角等。

- actions.py
	动作执行器类

- debug_display_game_info.py
	用于调试

- grabscreen.py
	截屏功能

- keys.py
	高级功能，貌似是未使用到

- log.py
	用于输出 log

- main.py
	程序入口以及主要循环

- window.py
	游戏窗口区域、血条区域等，未来才会用到



## 大部分代码和思路来自以下仓库，感谢他们

- https://github.com/XR-stb/DQN_WUKONG
- https://github.com/analoganddigital/DQN_play_sekiro
- https://github.com/Sentdex/pygta5
- https://github.com/RongKaiWeskerMA/sekiro_play


